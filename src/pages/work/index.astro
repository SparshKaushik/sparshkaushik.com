---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";
import { Icon } from "astro-icon/components";
import AdmissionCoverImage from "../../assets/admission/cover.png";
import ERPCoverImage from "../../assets/erp/cover.png";
import ExpenseCoverImage from "../../assets/expense/cover.png";
import KuchKareCoverImage from "../../assets/mytodo/cover.png";
import NewsaCoverImage from "../../assets/newsa/cover.webp";
import NightJarCoverImage from "../../assets/nightjar/cover.png";
import SortinNewsaCoverImage from "../../assets/sortin/newsa.png";
import ArrowLink from "../../components/ArrowLink.astro";

import InfoBox from "../../components/InfoBox.astro";
import Layout from "../../layouts/Layout.astro";

const stacks = {
	expo: {
		name: "vscode-icons:file-type-light-expo",
		title: "Expo",
		link: "https://expo.dev/",
	},
	nextjs: {
		name: "logos:nextjs-icon",
		title: "Next.js",
		link: "https://nextjs.org/",
	},
	react: {
		name: "logos:react",
		title: "React",
		link: "https://reactjs.org/",
	},
	typescript: {
		name: "logos:typescript-icon",
		title: "TypeScript",
		link: "https://www.typescriptlang.org/",
	},
	tailwindcss: {
		name: "logos:tailwindcss-icon",
		title: "TailwindCSS",
		link: "https://tailwindcss.com/",
	},
	prisma: {
		name: "simple-icons:prisma",
		title: "Prisma",
		link: "https://www.prisma.io/",
	},
	postgresql: {
		name: "logos:postgresql",
		title: "PostgreSQL",
		link: "https://www.postgresql.org/",
	},
	svelte: {
		name: "logos:svelte-icon",
		title: "Svelte",
		link: "https://svelte.dev/",
	},
	golang: {
		name: "logos:go",
		title: "Go",
		link: "https://go.dev/",
	},
	javascript: {
		name: "logos:javascript",
		title: "JavaScript",
		link: "https://developer.mozilla.org/en-US/docs/Web/JavaScript",
	},
	sass: {
		name: "logos:sass",
		title: "Sass",
		link: "https://sass-lang.com/",
	},
	firebase: {
		name: "logos:firebase",
		title: "Firebase",
		link: "https://firebase.google.com/",
	},
	axios: {
		name: "axios",
		title: "Axios",
		link: "https://axios-http.com/",
	},
	"react-query": {
		name: "react-query",
		title: "Tanstack React Query",
		link: "https://tanstack.com/query/v4",
	},
	legendstate: {
		name: "legendstate",
		title: "Legend State",
		link: "https://legendstate.com/",
	},
	supabase: {
		name: "supabase",
		title: "Supabase",
		link: "https://supabase.com/",
	},
};

const projects: {
	image: ImageMetadata;
	stackIcons: {
		name: string;
		title: string;
		link?: string;
	}[];
	lead: string;
	title: string;
	link?: string;
	appLink?: string;
}[] = [
	{
		image: NewsaCoverImage,
		stackIcons: [
			stacks.nextjs,
			stacks.react,
			stacks.typescript,
			stacks.tailwindcss,
		],
		lead: "Full Time",
		title: "NewSa.in",
		appLink: "https://newsa.in/",
	},
	{
		image: SortinNewsaCoverImage,
		stackIcons: [
			stacks.nextjs,
			stacks.react,
			stacks.typescript,
			stacks.tailwindcss,
			stacks.supabase,
			stacks.axios,
			stacks["react-query"],
		],
		lead: "Internship",
		title: "Newsa - Sortin",
		appLink: "https://newsa.sortin.in/",
		// link: "/work/details/travel",
	},
	// {
	//   image: TravelCoverImage,
	//   stackIcons: [
	//     stacks.nextjs,
	//     stacks.react,
	//     stacks.typescript,
	//     stacks.tailwindcss,
	//     stacks.prisma,
	//     stacks.postgresql,
	//   ],
	//   lead: "Freelance",
	//   title: "Travel Planner",
	//   appLink: "https://www.traveltoindia.co.in/",
	//   // link: "/work/details/travel",
	// },
	{
		image: NightJarCoverImage,
		stackIcons: [
			stacks.expo,
			stacks.react,
			stacks.nextjs,
			stacks.typescript,
			stacks.tailwindcss,
			stacks.axios,
			stacks["react-query"],
			stacks.legendstate,
		],
		lead: "Internship",
		title: "Trailguard AI - Nightjar",
		appLink: "https://nightjar.in/",
	},
	{
		image: ExpenseCoverImage,
		stackIcons: [
			stacks.react,
			stacks.typescript,
			stacks.golang,
			stacks.prisma,
			stacks.postgresql,
		],
		lead: "Personal Project",
		title: "Expense Tracker",
		// link: "/work/details/expense",
	},
	{
		image: ERPCoverImage,
		stackIcons: [stacks.react, stacks.typescript, stacks.sass, stacks.firebase],
		lead: "VIPS College ERP",
		title: "Manthan",
		link: "/work/details/erp",
	},
	{
		image: AdmissionCoverImage,
		stackIcons: [
			stacks.svelte,
			stacks.javascript,
			stacks.tailwindcss,
			stacks.firebase,
		],
		lead: "Freelance",
		title: "School Admission Portal",
		// link: "/work/details/admission",
	},
	{
		image: KuchKareCoverImage,
		stackIcons: [
			stacks.svelte,
			stacks.sass,
			stacks.typescript,
			stacks.supabase,
		],
		lead: "Personal Project",
		title: "Kuch Kare - Todo App",
		// link: "/work/details/mytodo",
		appLink: "https://todo.sparshkaushik.com/",
	},
	// {
	//   image: ShrtyCoverImage,
	//   stackIcons: [
	//     "logos:html-5",
	//     "logos:css-3",
	//     "logos:javascript",
	//     "flask-light",
	//   ],
	//   lead: "Personal Project",
	//   title: "Shrty - URL Shortener",
	//   // https://web.archive.org/web/20220909161705/https://shrty.ga/
	//   link: "/work/details/shrty",
	// },
];
---

<Layout title="Sparsh Kaushik">
  <main class="w-full flex flex-col items-center justify-center gap-6">
    <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
      {
        projects.map((project) => (
          <InfoBox class="items-start! flex flex-col justify-between gap-4 p-6!">
            <div class="relative w-full">
              <Image src={project.image} alt={project.title} class="w-full rounded-2xl object-cover object-left" />
              <div class="absolute -bottom-4 right-2 flex items-center gap-3 p-2 bg-overlay rounded-lg">
                {project.stackIcons.map((icon) =>
                  icon.link ? (
                    <a
                      href={icon.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      class="flex items-center gap-2"
                    >
                      <Icon
                        name={icon.name}
                        class={`w-5 h-5 ${icon.name === "logos:nextjs-icon" ? "bg-text rounded-full" : ""}`}
                        title={icon.name.split(":")[1]}
                      />
                    </a>
                  ) : (
                    <Icon
                      name={icon.name}
                      class={`w-5 h-5 ${icon.name === "logos:nextjs-icon" ? "bg-text rounded-full" : ""}`}
                      title={icon.name.split(":")[1]}
                    />
                  )
                )}
              </div>
            </div>
            <div class="w-full flex items-center justify-between gap-4">
              <div>
                <div class="text-[1.1rem] font-medium">{project.lead}</div>
                <div class="text-[1.15rem] font-medium text-text">{project.title}</div>
              </div>
              {project.appLink && (
                <ArrowLink href={project.appLink} variant="free" icon="link" small />
              )}
              {project.link && (
                <ArrowLink href={project.link} variant="free" />
              )}
            </div>
          </InfoBox>
        ))
      }
    </div>
  </main>
</Layout>
